<h1>Admin Dashboard</h1>

<div class="">
  <h3>Ordered: <%= @ordered.count %> </h3>
  <table class="table" id="ordered">
    <th>Order no.</th>
    <th>Order date</th>
    <th>Update status</th>
    <% @ordered.each do |order| %>
    <tr>
      <td><%= link_to order.id, order_path(order) %></td>
      <td><%= order.order_date %></td>
      <td> <%= button_to "cancel", order_path(order), method: :patch, params: { status: :cancelled } %> </td>
      <td> <%= button_to "mark as paid", order_path(order), method: :patch, params: { status: :paid } %> </td>
    </tr>
    </tr>
    <% end %>
  </table>
</div>
<div class="">
  <h3>Paid: <%= @paid.count %></h3>
  <table class="table" id="paid">
    <th>Order no.</th>
    <th>Order date</th>
    <th>Update Order Status</th>
    <% @paid.each do |order| %>
    <tr>
      <td><%= link_to order.id, order_path(order) %></td>
      <td><%= order.order_date %></td>
      <td> <%= button_to "cancel", order_path(order), method: :patch, params: { status: :cancelled } %> </td>
      <td> <%= button_to "mark as completed", order_path(order), method: :patch, params: { status: :completed } %> </td>
    </tr>
    </tr>
    <% end %>
  </table>
</div>
<div class="">
  <h3>Completed: <%= @completed.count %></h3>
  <table class="table" id="completed">
    <th>Order no.</th>
    <th>Order date</th>
    <th>Update</th>
    <% @completed.each do |order| %>
    <tr>
      <td><%= link_to order.id, order_path(order) %></td>
      <td><%= order.order_date %></td>
    </tr>
    <% end %>
  </table>
</div>

<div class="">
  <h3>Cancelled: <%= @cancelled.count %></h3>
  <table class="table" id="cancelled">
    <th>Order no.</th>
    <th>Order date</th>
    <% @cancelled.each do |order| %>
    <tr>
      <td><%= link_to order.id, order_path(order) %></td>
      <td><%= order.order_date %></td>
    </tr>
    <% end %>
  </table>
</div>

<%= link_to "View All Users",  admin_users_path %>
